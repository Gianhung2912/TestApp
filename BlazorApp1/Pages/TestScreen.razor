@page "/testscreen"
@using BlazorApp1.Services;
@using Blazorise.RichTextEdit
@inject ITestScreenService TestScreenService
<h3>TestScreen</h3>
<Row>
    <Column ColumnSize="ColumnSize.Is12">
            <Table Bordered="true">
                <TableHeader>
                    <TableRow>
                        <TableHeaderCell>Command</TableHeaderCell>
                        <TableHeaderCell>Target</TableHeaderCell>
                        <TableHeaderCell>Value</TableHeaderCell>
                    </TableRow>
                </TableHeader>
                <TableBody>
                    @foreach (var testscreen in ListTestScreen)
                    {
                        <TableRow>
                            <TableRowCell>@testscreen.Command</TableRowCell>
                            <TableRowCell>@testscreen.Target</TableRowCell>
                            <TableRowCell>@testscreen.Value</TableRowCell>
                        </TableRow>
                    }
                </TableBody>
            </Table>
    </Column>
</Row>
<h4>Log</h4>
<!--<RichTextEdit @ref="richTextEditRef"
              Theme="RichTextEditTheme.Snow"
              ContentChanged="@OnContentChanged"
              PlaceHolder="Type your post here..."
              ReadOnly="@readOnly"
              SubmitOnEnter="false"
              EnterPressed="@OnSave"
              ToolbarPosition="Placement.Bottom">
    <Toolbar>
        <RichTextEditToolbarGroup>
            <RichTextEditToolbarButton Action="RichTextEditAction.Bold" />
            <RichTextEditToolbarButton Action="RichTextEditAction.Italic" />
            <RichTextEditToolbarSelect Action="RichTextEditAction.Size">
                <RichTextEditToolbarSelectItem Value="small" />
                <RichTextEditToolbarSelectItem Selected="true" />
                <RichTextEditToolbarSelectItem Value="large" />
                <RichTextEditToolbarSelectItem Value="huge">Very Big</RichTextEditToolbarSelectItem>
            </RichTextEditToolbarSelect>
            <RichTextEditToolbarButton Action="RichTextEditAction.List" Value="ordered" />
            <RichTextEditToolbarButton Action="RichTextEditAction.List" Value="bullet" />
        </RichTextEditToolbarGroup>-->
        <!-- Custom toolbar content -->
        <!--<RichTextEditToolbarGroup Float="Float.Right">
            <Button onClick="window.open('https://www.quilljs.com/','quilljs')"><Icon Name="IconName.InfoCircle" /></Button>
            <Button Clicked="@OnSave"><Icon Name="IconName.Save" /></Button>
        </RichTextEditToolbarGroup>
    </Toolbar>
</RichTextEdit>-->

<div style="height:300px; width:100%; overflow-y:scroll; border:solid; border-width:1px;border-color:darkgray">
    <p>
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme

        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme

        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme

        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme


        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme
        Loremisum loremin is osme         Loremisum loremin is osme

    </p>
</div>
@code {
    private List<BlazorApp1.Models.TestScreen> ListTestScreen;

    protected override async Task OnInitializedAsync()
    {
        ListTestScreen = TestScreenService.GetAllProject().ToList();
    }
    private RichTextEdit richTextEditRef;
    private bool readOnly;
    private string contentAsHtml;
    private string contentAsDeltaJson;
    private string contentAsText;
    private string savedContent;

    public async Task OnContentChanged()
    {
        contentAsHtml = await richTextEditRef.GetHtmlAsync();
        contentAsDeltaJson = await richTextEditRef.GetDeltaAsync();
        contentAsText = await richTextEditRef.GetTextAsync();
    }

    public async Task OnSave()
    {
        savedContent = await richTextEditRef.GetHtmlAsync();
        await richTextEditRef.ClearAsync();
    }
}

